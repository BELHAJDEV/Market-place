{"ast":null,"code":"import _objectSpread from\"C:/Users/Electro-Marke.ma/Documents/React-JS/market-place-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Electro-Marke.ma/Documents/React-JS/market-place-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import'./postDetail.css';import{useParams}from'react-router-dom';import{db}from'../../Firebase';import Zoom from'react-reveal/Zoom';import{Link}from'react-router-dom';import{SideBarContext}from'../../contexts/SideBarContext';import Slider from\"react-slick\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PostDetail(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),postDetail=_useState2[0],setPostDetail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),sellerName=_useState4[0],setSellerName=_useState4[1];var _useContext=useContext(SideBarContext),value2=_useContext.value2;var _value=_slicedToArray(value2,2),activeUser=_value[0],setActiveUser=_value[1];useEffect(function(){db.collection('posts').doc(id).onSnapshot(function(snapshot){setPostDetail(snapshot.data());setSellerName(snapshot.data().username);});},[id]);var settings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1};return/*#__PURE__*/_jsxs(Zoom,{children:[activeUser&&sellerName!==activeUser?/*#__PURE__*/_jsx(\"div\",{className:\"contact\",children:/*#__PURE__*/_jsx(Link,{to:\"/Post/\".concat(id,\"/ContactRoom\"),children:\"Contact Seller\"})}):/*#__PURE__*/_jsx(\"div\",{}),activeUser?/*#__PURE__*/_jsx(\"div\",{className:\"post_detail_container\",children:/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({},settings),{},{className:\"slider_two\",children:Object.keys(postDetail).length!==0?postDetail.imagesUrl.map(function(url,index){return/*#__PURE__*/_jsx(\"div\",{className:\"post_img\",children:/*#__PURE__*/_jsx(\"img\",{src:url,alt:\"\"})},index);}):null}))}):/*#__PURE__*/_jsxs(\"div\",{className:\"err_login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"You have to Login\"})]})]});}export default PostDetail;","map":{"version":3,"sources":["C:/Users/Electro-Marke.ma/Documents/React-JS/market-place-app/src/components/PostsDetails/PostDetail.js"],"names":["React","useState","useEffect","useContext","useParams","db","Zoom","Link","SideBarContext","Slider","PostDetail","id","postDetail","setPostDetail","sellerName","setSellerName","value2","activeUser","setActiveUser","collection","doc","onSnapshot","snapshot","data","username","settings","dots","infinite","speed","slidesToShow","slidesToScroll","Object","keys","length","imagesUrl","map","url","index"],"mappings":"uWAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,CAAiCC,UAAjC,KAAkD,OAAlD,CACA,MAAO,kBAAP,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAAQC,EAAR,KAAiB,gBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,cAAR,KAA6B,+BAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,C,wFAKA,QAASC,CAAAA,UAAT,EAAsB,CAClB,eAAWN,SAAS,EAApB,CAAKO,EAAL,YAAKA,EAAL,CACA,cAAmCV,QAAQ,CAAC,EAAD,CAA3C,wCAAOW,UAAP,eAAkBC,aAAlB,eACA,eAAmCZ,QAAQ,CAAC,EAAD,CAA3C,yCAAOa,UAAP,eAAkBC,aAAlB,eACA,gBAAiBZ,UAAU,CAACK,cAAD,CAA3B,CAAOQ,MAAP,aAAOA,MAAP,CACA,0BAAmCA,MAAnC,IAAOC,UAAP,WAAkBC,aAAlB,WAIAhB,SAAS,CAAC,UAAI,CACVG,EAAE,CAACc,UAAH,CAAc,OAAd,EACCC,GADD,CACKT,EADL,EACSU,UADT,CACqB,SAAAC,QAAQ,CAAI,CAC7BT,aAAa,CAACS,QAAQ,CAACC,IAAT,EAAD,CAAb,CACAR,aAAa,CAACO,QAAQ,CAACC,IAAT,GAAgBC,QAAjB,CAAb,CAEH,CALD,EAQH,CATQ,CASP,CAACb,EAAD,CATO,CAAT,CAWA,GAAMc,CAAAA,QAAQ,CAAG,CACbC,IAAI,CAAE,IADO,CAEbC,QAAQ,CAAE,IAFG,CAGbC,KAAK,CAAE,GAHM,CAIbC,YAAY,CAAE,CAJD,CAKbC,cAAc,CAAE,CALH,CAAjB,CAOA,mBAEI,MAAC,IAAD,YAECb,UAAU,EAAIH,UAAU,GAAKG,UAA7B,cACG,YAAK,SAAS,CAAC,SAAf,uBACI,KAAC,IAAD,EAAM,EAAE,iBAAWN,EAAX,gBAAR,4BADJ,EADH,cAOE,cATH,CAWAM,UAAU,cACV,YAAK,SAAS,CAAC,uBAAf,uBAEA,KAAC,MAAD,gCAAYQ,QAAZ,MAAsB,SAAS,CAAC,YAAhC,UACCM,MAAM,CAACC,IAAP,CAAYpB,UAAZ,EAAwBqB,MAAxB,GAAmC,CAAnC,CACGrB,UAAU,CAACsB,SAAX,CAAqBC,GAArB,CAAyB,SAACC,GAAD,CAAKC,KAAL,CAAe,CACpC,mBAIG,YAAK,SAAS,CAAC,UAAf,uBAES,YAAK,GAAG,CAAED,GAAV,CAAe,GAAG,CAAC,EAAnB,EAFT,EAA+BC,KAA/B,CAJH,CAaH,CAdD,CADH,CAiBC,IAlBF,GAFA,EADU,cA2BN,aAAK,SAAS,CAAC,WAAf,wBACA,iCAAI,UAAG,SAAS,CAAC,6BAAb,EAAJ,EADA,cAEI,yCAFJ,GAtCJ,GAFJ,CAuDH,CAED,cAAe3B,CAAAA,UAAf","sourcesContent":["import React,{useState,useEffect,useContext} from 'react';\r\nimport './postDetail.css';\r\nimport { useParams } from 'react-router-dom';\r\nimport {db} from '../../Firebase';\r\nimport Zoom from 'react-reveal/Zoom'\r\nimport {Link} from 'react-router-dom';\r\nimport {SideBarContext} from '../../contexts/SideBarContext';\r\nimport Slider from \"react-slick\";\r\n\r\n\r\n\r\n\r\nfunction PostDetail() {\r\n    let {id} = useParams();\r\n    const [postDetail,setPostDetail] = useState({});\r\n    const [sellerName,setSellerName] = useState('');\r\n    const {value2} = useContext(SideBarContext);\r\n    const [activeUser,setActiveUser] = value2;\r\n\r\n    \r\n\r\n    useEffect(()=>{\r\n        db.collection('posts')\r\n        .doc(id).onSnapshot( snapshot => {\r\n            setPostDetail(snapshot.data());\r\n            setSellerName(snapshot.data().username)\r\n     \r\n        });\r\n        \r\n\r\n    },[id]);\r\n \r\n    const settings = {\r\n        dots: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1\r\n      };\r\n    return (\r\n \r\n        <Zoom>\r\n        \r\n        {activeUser && sellerName !== activeUser ? (\r\n            <div className=\"contact\">\r\n                <Link to={`/Post/${id}/ContactRoom`}>\r\n                    Contact Seller\r\n                </Link>\r\n            </div>\r\n\r\n        ):(<div></div>)}\r\n\r\n       {activeUser ? ( \r\n        <div className='post_detail_container'>\r\n        \r\n        <Slider {...settings} className='slider_two'>\r\n        {Object.keys(postDetail).length !== 0  ? (\r\n            postDetail.imagesUrl.map((url,index) => {\r\n                return (\r\n                    \r\n\r\n                  \r\n                   <div className='post_img' key={index}>\r\n                        \r\n                            <img src={url} alt=\"\" />      \r\n                                \r\n                    </div>\r\n                                 \r\n                    \r\n                    \r\n                )\r\n            })\r\n               \r\n        ):null}\r\n        \r\n        \r\n        </Slider>    \r\n        </div>\r\n        ):(\r\n            <div className='err_login'>\r\n            <h1><i className=\"fas fa-exclamation-triangle\"></i></h1>\r\n                <h1>You have to Login</h1>\r\n                \r\n            </div>\r\n        )}\r\n        \r\n        \r\n        </Zoom>\r\n\r\n       \r\n    \r\n       \r\n\r\n    )\r\n}\r\n\r\nexport default PostDetail\r\n"]},"metadata":{},"sourceType":"module"}