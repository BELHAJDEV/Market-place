{"ast":null,"code":"import _slicedToArray from\"C:/Users/Electro-Marke.ma/Documents/React-JS/market-place-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import'./posts.css';import{db}from'../../Firebase';import Zoom from'react-reveal/Zoom';import{Link}from'react-router-dom';import{SideBarContext}from'../../contexts/SideBarContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Posts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useContext=useContext(SideBarContext),value1=_useContext.value1;var _value=_slicedToArray(value1,2),fixHeight=_value[0],setFixHeight=_value[1];useEffect(function(){data();return function(){return setPosts([]);};},[]);var data=function data(){db.collection('posts').orderBy('timestamp','desc').onSnapshot(function(snapshot){setPosts(snapshot.docs.map(function(doc){return{id:doc.id,post:doc.data()};}));});};return/*#__PURE__*/_jsx(Zoom,{children:/*#__PURE__*/_jsx(\"div\",{className:fixHeight===false?'posts_container':'post_container of',onClick:function onClick(){return setFixHeight(false);},children:posts.map(function(_ref){var id=_ref.id,post=_ref.post;return/*#__PURE__*/_jsx(Link,{to:\"/Post/\".concat(id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"posts\",children:[/*#__PURE__*/_jsx(\"img\",{src:post.imagesUrl[0],alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:post.productName}),/*#__PURE__*/_jsx(\"h3\",{children:post.price})]},id)},id+'1');})})});}export default Posts;","map":{"version":3,"sources":["C:/Users/Electro-Marke.ma/Documents/React-JS/market-place-app/src/components/Posts/Posts.js"],"names":["React","useEffect","useState","useContext","db","Zoom","Link","SideBarContext","Posts","posts","setPosts","value1","fixHeight","setFixHeight","data","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","post","imagesUrl","productName","price"],"mappings":"oLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAsCC,UAAtC,KAAwD,OAAxD,CACA,MAAO,aAAP,CACA,OAAQC,EAAR,KAAiB,gBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,cAAR,KAA6B,+BAA7B,C,wFAEA,QAASC,CAAAA,KAAT,EAAiB,CACb,cAAyBN,QAAQ,CAAC,EAAD,CAAjC,wCAAOO,KAAP,eAAaC,QAAb,eAEA,gBAAiBP,UAAU,CAACI,cAAD,CAA3B,CAAOI,MAAP,aAAOA,MAAP,CACA,0BAAiCA,MAAjC,IAAOC,SAAP,WAAiBC,YAAjB,WAEAZ,SAAS,CAAC,UAAI,CACVa,IAAI,GACJ,MAAO,kBAAMJ,CAAAA,QAAQ,CAAC,EAAD,CAAd,EAAP,CAGH,CALQ,CAKP,EALO,CAAT,CAOA,GAAMI,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAK,CACdV,EAAE,CAACW,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B,WAA/B,CAA2C,MAA3C,EAAmDC,UAAnD,CAA+D,SAAAC,QAAQ,CAAI,CACvER,QAAQ,CAAEQ,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAK,CAChCC,EAAE,CAACD,GAAG,CAACC,EADyB,CAEhCC,IAAI,CAAGF,GAAG,CAACP,IAAJ,EAFyB,CAAL,EAArB,CAAF,CAAR,CAMH,CAPD,EAQH,CATD,CAWA,mBACI,KAAC,IAAD,wBACA,YAAK,SAAS,CAAEF,SAAS,GAAK,KAAd,CAAsB,iBAAtB,CAA0C,mBAA1D,CACC,OAAO,CAAE,yBAAKC,CAAAA,YAAY,CAAC,KAAD,CAAjB,EADV,UAKCJ,KAAK,CAACW,GAAN,CAAW,cAAe,IAAbE,CAAAA,EAAa,MAAbA,EAAa,CAARC,IAAQ,MAARA,IAAQ,CACvB,mBACI,KAAC,IAAD,EAAM,EAAE,iBAAaD,EAAb,CAAR,uBAEA,aAAK,SAAS,CAAC,OAAf,wBACI,YAAK,GAAG,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAf,CAAV,CAA6B,GAAG,CAAC,EAAjC,EADJ,cAEI,oBAAKD,IAAI,CAACE,WAAV,EAFJ,cAGI,oBAAKF,IAAI,CAACG,KAAV,EAHJ,GAA4BJ,EAA5B,CAFA,EAAgCA,EAAE,CAAG,GAArC,CADJ,CAWH,CAZA,CALD,EADA,EADJ,CA+BH,CAED,cAAed,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState , useContext } from 'react';\r\nimport './posts.css';\r\nimport {db} from '../../Firebase';\r\nimport Zoom from 'react-reveal/Zoom';\r\nimport {Link} from 'react-router-dom';\r\nimport {SideBarContext} from '../../contexts/SideBarContext'\r\n\r\nfunction Posts() {\r\n    const [posts,setPosts] = useState([]);\r\n\r\n    const {value1} = useContext(SideBarContext);\r\n    const [fixHeight,setFixHeight] = value1;\r\n\r\n    useEffect(()=>{\r\n        data();\r\n        return () => setPosts([])\r\n        \r\n\r\n    },[])\r\n\r\n    const data = ()=> {\r\n        db.collection('posts').orderBy('timestamp','desc').onSnapshot( snapshot => {\r\n            setPosts( snapshot.docs.map(doc => ({\r\n                id:doc.id,\r\n                post : doc.data()\r\n            }))\r\n\r\n            )\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Zoom>\r\n        <div className={fixHeight === false ? 'posts_container' : 'post_container of' }\r\n         onClick={()=> setFixHeight(false)}\r\n        >\r\n        \r\n        \r\n        {posts.map( ({id , post})=>{\r\n            return(\r\n                <Link to = {`/Post/${id}`} key={id + '1'}>\r\n\r\n                <div className=\"posts\" key={id}>\r\n                    <img src={post.imagesUrl[0]} alt=\"\" />\r\n                    <h4>{post.productName}</h4>\r\n                    <h3>{post.price}</h3>\r\n                </div>\r\n                </Link>\r\n                \r\n            )\r\n        }\r\n            \r\n        \r\n\r\n        )}\r\n        \r\n       \r\n            \r\n        </div>\r\n        </Zoom>\r\n        \r\n    )\r\n}\r\n\r\nexport default Posts\r\n"]},"metadata":{},"sourceType":"module"}